<!DOCTYPE html>
<html>
<head>
    <title>Your Monthly Expense Report</title>
</head>
<body style="font-family: Arial, sans-serif; line-height: 1.6; color: #333; margin: 0; padding: 20px;">
    <div style="max-width: 600px; margin: auto; border: 1px solid #ddd; border-radius: 8px; padding: 20px;">
        <h2 style="color: #4A5568;">Hello, {{ user.username }}!</h2>
        <p>Here is your expense summary for <strong>{{ report_month }}</strong>.</p>
        
        <div style="background-color: #F7FAFC; padding: 15px; border-radius: 8px; margin: 20px 0;">
            <h3 style="margin-top: 0;">Total Spent: <span style="color: #2D3748;">₹{{ total_expenses|floatformat:2 }}</span></h3>
        </div>

        <h3 style="color: #2D3748;">Breakdown by Category:</h3>
        <table style="width: 100%; border-collapse: collapse;">
            <thead>
                <tr style="background-color: #EDF2F7;">
                    <th style="padding: 12px; border: 1px solid #ddd; text-align: left;">Category</th>
                    <th style="padding: 12px; border: 1px solid #ddd; text-align: right;">Total Spent</th>
                </tr>
            </thead>
            <tbody>
                {% for item in category_summary %}
                <tr>
                    <td style="padding: 12px; border: 1px solid #ddd;">{{ item.category__name }}</td>
                    <td style="padding: 12px; border: 1px solid #ddd; text-align: right;">₹{{ item.total|floatformat:2 }}</td>
                </tr>
                {% empty %}
                <tr>
                    <td colspan="2" style="padding: 12px; border: 1px solid #ddd; text-align: center;">No expenses recorded for this month.</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
        <br>
        <p>Keep up the great work tracking your finances!</p>
        <p style="color: #718096; font-size: 0.9em;"><em>- The Expense Tracker Team</em></p>
    </div>
</body>
</html>

